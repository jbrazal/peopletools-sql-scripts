<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.js"></script>
    <title>Translate Values</title>

    <style>
    *{font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}
    </style>
</head>
<body>
    <div ng-app="App">
        <div ng-controller='Ctrl'>
            <h2>SQL Criteria</h2>
            <!-- Field Name -->
            <label for="fieldname">Field Name</label>
            <input type="text" name="" id="fieldname" ng-model="m_fldname">
            <br>
            <label for="xlat_alias">XLATITEM Alias</label>
            <input type="text" name="" id="xlat_alias" ng-model="m_xlat_alias">
            <br>
            <label for="main_tbl">Main Table Alias</label>
            <input type="text" name="" id="main_tbl" ng-model="m_main_tbl">
            <br>
            <label for="tbl_alias">Main Table Alias</label>
            <input type="text" name="" id="tbl_alias" ng-model="m_tbl_alias">

<pre>
SELECT {{ m_tbl_alias }}.{{ m_fldname }}
, {{ m_xlat_alias }}.XLATLONGNAME
, {{ m_xlat_alias }}.XLATSHORTNAME

FROM {{ m_main_tbl }} {{ m_tbl_alias }},
PSXLATITEM {{ m_xlat_alias }}

WHERE {{ m_xlat_alias }}.FIELDNAME = '{{ m_fldname }}'
AND {{ m_xlat_alias }}.FIELDVALUE = {{ m_tbl_alias }}.{{ m_fldname }}
AND {{ m_xlat_alias }}.EFFDT = (select max({{ m_xlat_alias }}2.EFFDT) 
                from PSXLATITEM {{ m_xlat_alias }}2 
                WHERE {{ m_xlat_alias }}2.FIELDNAME = {{ m_xlat_alias }}.FIELDNAME)
AND {{ m_xlat_alias }}.EFF_STATUS = 'A'
</pre>
        </div>

        <script>
                var app = angular.module("App", []);
                app.controller('Ctrl', function ($scope) {
                    $scope.m_fldname = 'RUNSTATUS';
                    $scope.m_xlat_alias = 'X';
                    $scope.m_tbl_alias = 'A';
                    $scope.m_main_tbl = 'PSPRCSRQST';
                });
            </script>
    </div>
    <footer><a href='https://ko-fi.com/D1D4IP34' target='_blank'><img height='36' style='border:0px;height:36px;' src='https://az743702.vo.msecnd.net/cdn/kofi2.png?v=0' border='0' alt='Buy Me a Coffee at ko-fi.com' /></a></footer>
</body>
</html>